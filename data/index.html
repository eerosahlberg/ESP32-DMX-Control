<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Valo-ohjain</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Valo-ohjain</h1>

    <button onclick="sendColor(255, 0, 0)">Punainen</button>
    <button onclick="sendColor(0, 255, 0)">Vihre√§</button>
    <button onclick="sendColor(0,0,255)">Sininen</button>

    <input type="color" id="color-picker">
    <button onclick="sendPickerData()";>Valitse</button>

    <script>
        function sendPickerData() {
                var data = document.getElementById('color-picker').value;
                var red = parseInt(data.substring(1, 3), 16);
                var green = parseInt(data.substring(3, 5), 16);
                var blue = parseInt(data.substring(5, 7), 16);
                var data = { red: red, green: green, blue: blue };
                var xhr = new XMLHttpRequest();
                xhr.open('POST', '/set-color', true);
                xhr.setRequestHeader('Content-Type', 'application/json');
                xhr.send(JSON.stringify(data));
            }
        function sendColor(red, green, blue) {
            var data = { red: red, green: green, blue: blue };
            var xhr = new XMLHttpRequest();
            xhr.open('POST', '/set-color', true);
            xhr.setRequestHeader('Content-Type', 'application/json');
            xhr.send(JSON.stringify(data));
        }
    </script>
</body>
</html>
